{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/server/outIm/imClient/imClient/pages/index/chat.vue?1e4d","webpack:///D:/server/outIm/imClient/imClient/pages/index/chat.vue?e456","webpack:///D:/server/outIm/imClient/imClient/pages/index/chat.vue?b6f7","uni-app:///pages/index/chat.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+nB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2FnpB;AACA,gD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAFA,mB,eAMA,EACA,IADA,kBACA,CACA,SACA,iBADA,EAEA,OAFA,EAGA,cAHA,GAKA,CAPA,EAQA,MARA,kBAQA,OARA,EAQA,CACA,gBACA,qBACA,OACA,sBACA,0CACA,CAdA,EAeA,0CAEA,0CAFA,SAGA,UAHA,wBAGA,CACA;AACA,sFACA,kBADA,CAEA;AACA,2BACA,2BADA,IAGA,CANA,EAMA,IANA,GAOA,4CACA,sCACA,CAdA,GAfA,EA+BA,SACA,gBACA;AACA,mCACA,gBACA,2BACA,uBAEA,CAPA,EADA,EA/BA,EA2CA,WACA,4BACA,CAEA,CAJA,EAKA,wBACA,CAEA,CARA,EASA,UATA,sBASA,CATA,EASA,CACA,mCACA,CAXA,EAYA,SAZA,qBAYA,CAZA,EAYA,CACA,qBACA,CAdA,EA3CA,E","file":"pages/index/chat.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/chat.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chat.vue?vue&type=template&id=f16335a4&\"\nvar renderjs\nimport script from \"./chat.vue?vue&type=script&lang=js&\"\nexport * from \"./chat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/chat.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=template&id=f16335a4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"","<template>\r\n    <view>\r\n        <!-- <cu-custom bgColor=\"bg-gradual-pink\" :isBack=\"true\"><block slot=\"backText\">返回</block><block slot=\"content\">聊天</block></cu-custom> -->\r\n\t\t<view class=\"cu-chat\">\r\n            <view v-for=\"(item,index) in talkDetail\" :key=\"index\">\r\n                <view v-bind:class=\"[item.postid == uid ? 'self' : '', 'cu-item']\">\r\n\t\t\t\t\t<view class=\"main\" v-if=\"item.postid == uid\">\r\n\t\t\t\t\t\t<view class=\"content bg-green shadow\" >\r\n\t\t\t\t\t\t\t<text>{{item.postid}}喵喵喵！喵喵喵！喵喵喵！喵喵！喵喵！！喵！喵喵喵！</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-avatar radius\" style=\"background-image:url(https://ossweb-img.qq.com/images/lol/web201310/skin/big107000.jpg);\"></view>\r\n\t\t\t\t\t<view class=\"main\" v-if=\"item.postid != uid\">\r\n\t\t\t\t\t\t<view class=\"content  shadow\" >\r\n\t\t\t\t\t\t\t<text>{{item.postid}}喵喵喵！喵喵喵！喵喵喵！喵喵！喵喵！！喵！喵喵喵！</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"date\">2018年3月23日 13:23</view>\r\n\t\t\t\t</view>\r\n            </view>\r\n\t\t\t\r\n\t\t\t<!-- <view class=\"cu-info\">\r\n\t\t\t\t<text class=\"cuIcon-roundclosefill text-red \"></text> 对方拒绝了你的消息\r\n\t\t\t</view> -->\r\n\t\t\t<!-- <view class=\"cu-info\">\r\n\t\t\t\t对方开启了好友验证，你还不是他(她)的好友。请先发送好友验证请求，对方验证通过后，才能聊天。\r\n\t\t\t\t<text class=\"text-blue\">发送好友验证</text>\r\n\t\t\t</view> -->\r\n\t\t\t<!-- <view class=\"cu-item self\">\r\n\t\t\t\t<view class=\"main\">\r\n\t\t\t\t\t<image src=\"https://ossweb-img.qq.com/images/lol/web201310/skin/big10006.jpg\" class=\"radius\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-avatar radius\" style=\"background-image:url(https://ossweb-img.qq.com/images/lol/web201310/skin/big107000.jpg);\"></view>\r\n\t\t\t\t<view class=\"date\"> 13:23</view>\r\n\t\t\t</view> -->\r\n\t\t\t<!-- <view class=\"cu-item self\">\r\n\t\t\t\t<view class=\"main\">\r\n\t\t\t\t\t<view class=\"action text-bold text-grey\">\r\n\t\t\t\t\t\t3\"\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"content shadow\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-sound text-xxl padding-right-xl\"> </text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-avatar radius\" style=\"background-image:url(https://ossweb-img.qq.com/images/lol/web201310/skin/big107000.jpg);\"></view>\r\n\t\t\t\t<view class=\"date\">13:23</view>\r\n\t\t\t</view> -->\r\n\t\t\t<!-- <view class=\"cu-item self\">\r\n\t\t\t\t<view class=\"main\">\r\n\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-locationfill text-orange text-xxl\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"content shadow\">\r\n\t\t\t\t\t\t喵星球，喵喵市\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-avatar radius\" style=\"background-image:url(https://ossweb-img.qq.com/images/lol/web201310/skin/big107000.jpg);\"></view>\r\n\t\t\t\t<view class=\"date\">13:23</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t<view class=\"cu-avatar radius\" style=\"background-image:url(https://ossweb-img.qq.com/images/lol/web201310/skin/big143004.jpg);\"></view>\r\n\t\t\t\t<view class=\"main\">\r\n\t\t\t\t\t<view class=\"content shadow\">\r\n\t\t\t\t\t\t@#$^&**\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"action text-grey\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-warnfill text-red text-xxl\"></text> <text class=\"text-sm margin-left-sm\">翻译错误</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"date\">13:23</view>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"bottom\"></view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"cu-bar foot input\" :style=\"[{bottom:InputBottom+'px'}]\">\r\n\t\t\t<view class=\"action\">\r\n\t\t\t\t<text class=\"cuIcon-sound text-grey\"></text>\r\n\t\t\t</view>\r\n\t\t\t<input class=\"solid-bottom\" :adjust-position=\"false\" :focus=\"false\" maxlength=\"300\" cursor-spacing=\"10\"\r\n\t\t\t @focus=\"InputFocus\" @blur=\"InputBlur\"></input>\r\n\t\t\t<view class=\"action\">\r\n\t\t\t\t<text class=\"cuIcon-emojifill text-grey\"></text>\r\n\t\t\t</view>\r\n\t\t\t<button class=\"cu-btn bg-green shadow\">发送</button>\r\n\t\t</view>\r\n        \r\n    </view>\r\n</template>\r\n\r\n<script>\r\n\tconst app = getApp();\r\n    import server from '@/node_modules/prettier/server.js';\r\n    import {\r\n        mapState,\r\n        mapMutations  \r\n    } from 'vuex';\r\n\texport default {\r\n\t\tdata() {\r\n\t\treturn {\r\n\t\t\t\tPageCur: 'basics',\r\n                id:'3',\r\n                InputBottom: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tvar that = this;\r\n            console.log(options)\r\n            return\r\n            var key = options.key;\r\n            this.$store.commit('takeTalkDetail',key)\r\n\t\t},\r\n        computed: {\r\n            //监听接收到的消息\r\n            ...mapState(['talkDetail','uid']),\r\n            socketMsgs() {\r\n\t\t\t\t//接收到本页面信息时需要判断是否需要滚动,如果滑动距离大于一个屏幕高度则不滚动,反之滚动到底,自己发消息点击输入框则滚动到底\r\n                uni.createSelectorQuery().select('.bottom').boundingClientRect(function (rect) {\r\n\t\t\t\t\tconsole.log(rect)\r\n\t\t\t\t\t// 使页面滚动到底部\r\n\t\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\t\tscrollTop: rect.bottom*10\r\n\t\t\t\t\t})\r\n\t\t\t\t}).exec()\r\n\t\t\t\tconsole.log(this.$store.getters.socketMsgs)\r\n\t\t\t\treturn this.$store.getters.socketMsgs\r\n            }\r\n        },\r\n        watch: {\r\n            'socketMsgs': {\r\n                //处理接收到的消息\r\n                handler: function() {\r\n                    let that = this\r\n                    let sMsg = that.socketMsgs\r\n                    console.log('聊天页面的接收')\r\n                    \r\n                }\r\n            }\r\n        },\r\n\r\n        methods:{\r\n            regiest:function()\r\n            {\r\n               \r\n            },\r\n            login:function()\r\n            {\r\n                \r\n            },\r\n            InputFocus(e) {\r\n\t\t\t\tthis.InputBottom = e.detail.height\r\n\t\t\t},\r\n\t\t\tInputBlur(e) {\r\n\t\t\t\tthis.InputBottom = 0\r\n\t\t\t}\r\n        }\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"sourceRoot":""}